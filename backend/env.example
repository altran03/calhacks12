# Environment variables for CareLink backend
# Copy this to .env and fill in your actual values
# This file contains backend-specific environment variables

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=True
API_TITLE=CareLink API
API_VERSION=1.0.0
API_DESCRIPTION=AI-powered hospital discharge coordination API

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,https://localhost:3000
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=sqlite:///./carelink.db
# For production, use PostgreSQL:
# DATABASE_URL=postgresql://username:password@localhost:5432/carelink
DATABASE_ECHO=False
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Supabase Configuration (for caching scraped data)
# Get your credentials from https://supabase.com/ -> Project Settings -> API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_KEY=your-service-role-key-here

# =============================================================================
# Fetch.ai uAgent Framework Configuration
# =============================================================================
# Fetch.ai API Key (get from https://developer.fetch.ai/)
# Optional for development - system works in demo mode without it
# Required for production deployment on Fetch.ai network
FETCH_AI_API_KEY=your_fetch_ai_api_key_here

# Main network configuration
FETCHAI_SEED_PHRASE=your_main_seed_phrase_here
FETCHAI_NETWORK=testnet
FETCHAI_AGENT_PORT_START=8001

# Individual agent seed phrases (generate unique phrases for each agent)
# These are used to create deterministic agent identities
HOSPITAL_AGENT_SEED=your_hospital_agent_seed_phrase_here
COORDINATOR_AGENT_SEED=your_coordinator_agent_seed_phrase_here
SHELTER_AGENT_SEED=your_shelter_agent_seed_phrase_here
TRANSPORT_AGENT_SEED=your_transport_agent_seed_phrase_here
SOCIAL_WORKER_AGENT_SEED=your_social_worker_agent_seed_phrase_here
PARSER_AGENT_SEED=your_parser_agent_seed_phrase_here
RESOURCE_AGENT_SEED=your_resource_agent_seed_phrase_here
PHARMACY_AGENT_SEED=your_pharmacy_agent_seed_phrase_here
ELIGIBILITY_AGENT_SEED=your_eligibility_agent_seed_phrase_here
ANALYTICS_AGENT_SEED=your_analytics_agent_seed_phrase_here

# Agent ports (each agent runs on a different port)
HOSPITAL_AGENT_PORT=8001
COORDINATOR_AGENT_PORT=8002
SHELTER_AGENT_PORT=8003
TRANSPORT_AGENT_PORT=8004
SOCIAL_WORKER_AGENT_PORT=8005
PARSER_AGENT_PORT=8011
RESOURCE_AGENT_PORT=8007
PHARMACY_AGENT_PORT=8008
ELIGIBILITY_AGENT_PORT=8009
ANALYTICS_AGENT_PORT=8010

# Agent Framework Settings
AGENT_FRAMEWORK=uagent
AGENT_DISCOVERY=True
AGENT_MESSAGING=True
AGENT_ANALYTICS=True

# =============================================================================
# Vapi Voice AI Configuration
# =============================================================================
VAPI_API_KEY=your_vapi_api_key_here
VAPI_WEBHOOK_URL=https://your-ngrok-url.ngrok.io/api/vapi/webhook
VAPI_ASSISTANT_ID=your_assistant_id_here
VAPI_BASE_URL=https://api.vapi.ai

# Voice configuration
VAPI_VOICE_PROVIDER=vapi
VAPI_VOICE_ID=sarah
VAPI_MODEL_PROVIDER=google
VAPI_MODEL_NAME=gemini-1.5-pro

# Demo Phone Number Configuration
# FOR DEMO/HACKATHON: VAPI will always call this number instead of real shelter numbers
# This allows you to answer calls and simulate shelter responses for demo purposes
# Format: +1234567890 (include country code)
DEMO_PHONE_NUMBER=+11234567890
DEMO_MODE=True

# =============================================================================
# Bright Data Configuration
# =============================================================================
# Get your Bright Data credentials from https://brightdata.com/
# You can use either API key or username/password authentication
BRIGHTDATA_API_KEY=your_brightdata_api_key_here
# Alternative: username/password authentication
BRIGHTDATA_USERNAME=your_brightdata_username
BRIGHTDATA_PASSWORD=your_brightdata_password
# API Configuration
BRIGHTDATA_ENDPOINT=https://api.brightdata.com
BRIGHTDATA_TIMEOUT=30
BRIGHTDATA_RETRY_ATTEMPTS=3

# =============================================================================
# ngrok Configuration (for webhook testing)
# =============================================================================
NGROK_AUTH_TOKEN=your_ngrok_auth_token_here
NGROK_DOMAIN=your_custom_domain.ngrok.io
NGROK_REGION=us
NGROK_PROTOCOL=https

# =============================================================================
# Security Configuration
# =============================================================================
SECRET_KEY=your_secret_key_here
JWT_SECRET=your_jwt_secret_here
ENCRYPTION_KEY=your_encryption_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
BCRYPT_ROUNDS=12

# =============================================================================
# External API Keys
# =============================================================================
# Google Gemini (for AI processing)
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-1.5-pro
GEMINI_MAX_TOKENS=8192
GEMINI_TEMPERATURE=0.7
GEMINI_SAFETY_SETTINGS=block_few

# LlamaParse (for PDF document parsing)
# Get your API key from https://cloud.llamaindex.ai/
LLAMA_CLOUD_API_KEY=your_llamaparse_api_key_here

# Voice Configuration (via Vapi)
# Vapi handles voice synthesis internally - no separate voice API needed

# Mapbox Configuration (for maps and geocoding)
MAPBOX_ACCESS_TOKEN=your_mapbox_access_token_here
MAPBOX_STYLE=mapbox://styles/mapbox/streets-v12
MAPBOX_ZOOM=12
MAPBOX_CENTER_LAT=37.7749
MAPBOX_CENTER_LNG=-122.4194

# Twilio (for SMS notifications)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=your_twilio_phone_number
TWILIO_MESSAGING_SERVICE_SID=your_twilio_messaging_service_sid

# =============================================================================
# Hospital and Healthcare Configuration
# =============================================================================
# Default hospital information
DEFAULT_HOSPITAL_NAME=San Francisco General Hospital
DEFAULT_HOSPITAL_ADDRESS=1001 Potrero Ave, San Francisco, CA 94110
DEFAULT_HOSPITAL_PHONE=(415) 206-8000

# Social worker contacts
DEFAULT_SOCIAL_WORKER_NAME=Sarah Johnson
DEFAULT_SOCIAL_WORKER_PHONE=(415) 555-0123
DEFAULT_SOCIAL_WORKER_DEPARTMENT=SF Health Department

# Transport providers
DEFAULT_TRANSPORT_PROVIDER=SF Paratransit
DEFAULT_TRANSPORT_PHONE=(415) 351-7000
DEFAULT_TRANSPORT_EMAIL=paratransit@sfmta.com

# =============================================================================
# Monitoring and Logging
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/carelink.log
SENTRY_DSN=your_sentry_dsn_here
ANALYTICS_ID=your_analytics_id_here

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# Rate Limiting and Performance
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10
REQUEST_TIMEOUT=30
MAX_CONCURRENT_REQUESTS=100

# =============================================================================
# Development Configuration
# =============================================================================
PYTHON_ENV=development
DEBUG_MODE=True
HOT_RELOAD=True
RELOAD_ON_CHANGE=True
AUTO_RELOAD=True

# Development database
DEV_DATABASE_URL=sqlite:///./dev_carelink.db

# =============================================================================
# Agent System Documentation
# =============================================================================
# 
# CareLink uses a multi-agent architecture with 9 specialized agents:
#
# 1. COORDINATOR_AGENT (Port 8002)
#    - Central workflow orchestrator
#    - Manages entire discharge workflow
#    - Coordinates between all other agents
#
# 2. SHELTER_AGENT (Port 8003)
#    - Shelter capacity and availability management
#    - Bed reservations and alternative searches
#    - Vapi integration for shelter verification
#
# 3. TRANSPORT_AGENT (Port 8004)
#    - Transportation scheduling and tracking
#    - Accessibility requirements handling
#    - Integration with Paratransit, Lyft Access, Uber WAV
#
# 4. SOCIAL_WORKER_AGENT (Port 8005)
#    - Case assignments and follow-up care
#    - Social worker coordination
#    - Follow-up scheduling and management
#
# 5. PARSER_AGENT (Port 8011)
#    - Document intelligence and PDF processing
#    - LlamaParse + Gemini integration
#    - Autofill data extraction and formatting
#
# 6. RESOURCE_AGENT (Port 8007)
#    - Food, hygiene, clothing coordination
#    - Resource matching and reservations
#    - Dietary restrictions handling
#
# 7. PHARMACY_AGENT (Port 8008)
#    - Medication continuity and access
#    - Pharmacy matching and availability
#    - Insurance and cost coordination
#
# 8. ELIGIBILITY_AGENT (Port 8009)
#    - Benefit verification and eligibility checking
#    - Medi-Cal, GA, SNAP coordination
#    - Expedited benefit processing
#
# 9. ANALYTICS_AGENT (Port 8010)
#    - System metrics and reporting
#    - Performance monitoring
#    - Health checks and alerts
#
# Getting Started:
# 1. Copy this file to .env
# 2. Set FETCH_AI_API_KEY (optional for development)
# 3. Run: python agents/run_agents.py
# 4. Start main API: uvicorn main:app --reload
#
# For production deployment:
# - Get FETCH_AI_API_KEY from https://developer.fetch.ai/
# - Set all agent seed phrases to unique values
# - Configure production database
# - Set up monitoring and logging

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_VOICE_CALLS=True
ENABLE_BRIGHT_DATA=True
ENABLE_AGENT_COORDINATION=True
ENABLE_REAL_TIME_UPDATES=True
ENABLE_NOTIFICATIONS=True
ENABLE_ANALYTICS=True

# =============================================================================
# Testing Configuration
# =============================================================================
TEST_DATABASE_URL=sqlite:///./test_carelink.db
TEST_MODE=False
MOCK_EXTERNAL_APIS=False
TEST_TIMEOUT=30
